from loguru import logger
from tinydb import Query, TinyDB

class UserManagement:
    def __add_dummies__(self):
        Speaker = Query()
        if (not self.speaker_table.contains(Speaker.name == "Sera")):
            self.speaker_table.insert({"name": "Sera", "language": "de", 'gender': "male", 'voice':  [3.496027, 2.742538, 7.009655, 1.345091, 3.557887, 1.985651, 3.878922, 3.306595, 0.521702, -0.933573, 5.831099, 1.063725, 6.220464, 0.253629, 1.276216, 0.143699, 4.492473, 3.085272, 4.890385, 6.44916, 1.302725, -1.123645, 6.820951, 2.89459, 3.301397, 0.469813, 4.166016, 7.263201, 3.949481, 6.750736, 3.987867, -0.106461, 1.126318, 3.017034, 2.665097, -0.304168, 2.093874, 0.755348, 4.575878, 3.744673, 1.917072, 2.594373, 2.190459, 3.569955, 3.123753, -0.795704, 1.346052, 3.961041, 2.873615, 3.991129, 4.252429, 3.299643, 2.048348, 4.908381, 0.171587, 1.007092, 3.666463, 0.617667, 2.98171, 4.717092, 0.074256, 0.559496, 3.67191, 3.805041, 3.811503, 0.360366, 4.812425, 1.300776, 0.641981, 2.884212, 6.398939, -0.35681, 3.245203, 1.292347, 3.206867, 4.668324, 3.386766, 5.135428, 4.426035, 4.411294, 5.138068, 2.139814, 2.365171, 4.231797, 3.869509, -0.231328, 3.367212, 1.128239, 4.391038, 4.726377, 0.273992, 2.42836, 1.316217, 4.772497, 6.345689, 1.624428, 3.308609, 0.108634, 4.322318, 1.953723, 2.401819, 2.392952, 0.329102, 4.137652, 1.818093, 3.918409, 0.474253, 3.184205, -0.886284, 3.802032, 2.91726, 1.163475, 3.371105, -0.196885, 3.433325, 3.232873, 3.727185, 3.799502, 6.640769, 2.729447, 0.246235, 8.005991, 5.375033, 0.46788, 0.513793, 0.435058, 4.855752, -0.588781]})

    def __init__(self, init_dummies = False):
        self.db = TinyDB('./data/users.json')
        self.speaker_table = self.db.table('speakers')
        if init_dummies:
            self.__add_dummies__()
